<head>
	<title>REST Examples</title>
	<script src="../onemap-leaflet.js"></script>
	<!--Please add in Turf.js script-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Turf.js/5.0.4/turf.min.js"></script>
	<style>
		table {
		    font-family: arial, sans-serif;
		    border-collapse: collapse;
		    width: 100%;
		}

		td, th {
		    border: 1px solid #dddddd;
		    text-align: left;
		    padding: 8px;
		}

		tr:nth-child(even) {
		    background-color: #dddddd;
		}
	</style>
</head>
<body>
	<table>
	  <tr>
	    <th>Function</th>
	    <th>Example</th>
	    <th>Result</th>
	  </tr>

	  <tr>
	    <td>Config</td>
	    <td>onemap.config("access token");<br><br>Put your access token inside the function. </td>
	    <td>After access token is configured, the rest of the services will display.
	    	<script>onemap.config("eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjEyMSwidXNlcl9pZCI6MTIxLCJlbWFpbCI6ImRlbW9Ab25lbWFwLnNnIiwiZm9yZXZlciI6ZmFsc2UsImlzcyI6Imh0dHA6XC9cL29tMi5kZmUub25lbWFwLnNnXC9hcGlcL3YyXC91c2VyXC9zZXNzaW9uIiwiaWF0IjoxNTI4Njg0NjMxLCJleHAiOjE1MjkxMTY2MzEsIm5iZiI6MTUyODY4NDYzMSwianRpIjoiZGZhMmJiMjFjZmJkZTE5ZDRlZTJhNmI5ZGMxZGJjYzAifQ.NGVCV4yBzDfARVa4M44Vwpho53qr1DGPy2DjoMWmdAU");</script>
	    </td>
	  </tr>

	  <tr>
	    <td>Search</td>
	    <td>onemap.search("Revenue House",1);<br><br>The second parameter is the page number.</td>
	    <td><script>document.write(onemap.search("Revenue House",1));</script></td>
	  </tr>
	  
	  <tr>
	    <td>Projection Conversion <br>(EPSG 3857,4326 and 3414)</td>
	    <td>onemap.convertprojection("4326","3857",103.8,1.3);<br><br>The parameters are From Projection, To Projection, X and Y. </td>
	    <td><script>document.write(onemap.convertprojection("4326","3857",103.8,1.3));</script></td>
	  </tr>

	  <tr>
	    <td>Reverse Geocoding</td>
	    <td>onemap.revgeocode(1.3,103.8,3,"all");<br><br>The parameters are latitude, longitude, buffer and addresstype(hdb/all)<br></td>
	    <td><script>document.write(onemap.revgeocode(1.3,103.8,3,"all"));</script></td>
	  </tr>

	  <tr>
	    <td>Retrieve All Query Names(Themes)</td>
	    <td>onemap.retrieveQueryNames();<br></td>
	    <td><script>document.write(onemap.retrieveQueryNames().fontsize(0.2));</script></td>
	  </tr>

	  <tr>
	    <td>Retrieve Theme Data</td>
	    <td>onemap.retrieveTheme("moh_cdmp_clinics");<br><br>Use Query Name retrieved from OneMap API</td>
	    <td><script>document.write(onemap.retrieveTheme("moh_cdmp_clinics"));</script></td>
	  </tr>

	  <tr>
	    <td>Converts All Theme(Points) Objects in GeoJSON Format<br>(Only Name & Desc)</td>
	    <td>onemap.retrieveTheme("moh_cdmp_clinics");<br>
	    	var geojson = onemap.pointTheme2GeoJSON(themeObj);<br><br>Converts using Theme Object</td>
	    <td>
	    	<script>
	    		var themeObj = onemap.retrieveTheme("moh_cdmp_clinics");
	    		//Retrieve GeoJSON for overlaying
	    		var geojson = onemap.pointTheme2GeoJSON(themeObj);
	    		document.write("<b>GeoJSON has been stringify:</b><br><br>"+JSON.stringify(geojson));
			</script>
		</td>
	  </tr>

	  <tr>
	    <td>Gets Nearby Theme(Points) Objects in GeoJSON Format<br>(Only Name & Desc)</td>
	    <td>onemap.retrieveTheme("moh_hospitals");<br>
	    	var nearby = onemap.nearbyPointFeatures(themeObj,1.3,103.8,2000);<br><br>Find Nearby using Theme Object,Latitude,Longitude and distance(meters)</td>
	    <td>
	    	<script>
	    		var themeObj = onemap.retrieveTheme("moh_hospitals");
	    		//Retrieve GeoJSON for overlaying
	    		var nearby = onemap.nearbyPointFeatures(themeObj,1.3,103.8,2000);
	    		document.write("<b>GeoJSON has been stringify:</b><br><br>"+JSON.stringify(nearby));
			</script>
		</td>
	  </tr>
	  <tr>
	    <td>Sorted Nearby Theme(By Distance) Objects in GeoJSON Format<br>(Only Name,Distance & Desc)</td>
	    <td>onemap.retrieveTheme("moh_hospitals");<br>
	    	var nearby = onemap.sortedNearbyPointFeatures(themeObj,1.3,103.8,5000);<br><br>Find Sorted Nearby Amenities using Theme Object,Latitude,Longitude and distance(meters)</td>
	    <td>
	    	<script>
	    		var themeObj = onemap.retrieveTheme("moh_hospitals");
	    		
	    		var sortedNearby = onemap.sortedNearbyPointFeatures(themeObj,1.3,103.8,5000);
	    		document.write("<b>GeoJSON has been stringify:</b><br><br>"+JSON.stringify(sortedNearby));
			</script>
		</td>
	  </tr>
	 
	</table>
</body>
